import{d as W,e as d,j,k as F,f as N,l as V,m as q,o as A,c as D,g as G,p as H,i as R,_ as J}from"./app.e640ebd4.js";const K=W({__name:"Plum",setup(L){const B=Math.PI,_=Math.PI/2,g=Math.PI/12,M="#88888825",k=d(null),{random:o}=Math,n=j(F()),v=d(()=>{}),w=d(4),b=d(6),x=d(!1);function z(a,t=400,c=400,l){const e=a.getContext("2d"),i=window.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,s=l||i/r;return a.style.width=`${t}px`,a.style.height=`${c}px`,a.width=s*t,a.height=s*c,e.scale(s,s),{ctx:e,dpi:s}}function I(a=0,t=0,c=0,l=0){const e=c*Math.cos(l),i=c*Math.sin(l);return[a+e,t+i]}N(async()=>{const a=k.value,{ctx:t}=z(a,n.width,n.height),{width:c,height:l}=a;let e=[],i=[],r=0;const s=(m,S,f)=>{const C=o()*b.value,[u,h]=I(m,S,C,f);t.beginPath(),t.moveTo(m,S),t.lineTo(u,h),t.stroke();const T=f+o()*g,E=f-o()*g;u<-100||u>n.width+100||h<-100||h>n.height+100||((r<=w.value||o()>.5)&&e.push(()=>s(u,h,T)),(r<=w.value||o()>.5)&&e.push(()=>s(u,h,E)))};let y=performance.now();const $=1e3/40;let p;p=V(()=>{performance.now()-y<$||(r+=1,i=e,e=[],y=performance.now(),i.length||(p.pause(),x.value=!0),i.forEach(m=>m()))},{immediate:!1}),v.value=()=>{p.pause(),r=0,t.clearRect(0,0,c,l),t.lineWidth=1,t.strokeStyle=M,i=[],e=[()=>s(o()*n.width,0,_),()=>s(o()*n.width,n.height,-_),()=>s(0,o()*n.height,0),()=>s(n.width,o()*n.height,B)],n.width<500&&(e=e.slice(0,2)),p.resume(),x.value=!1},v.value()});const P=q(()=>"radial-gradient(circle, transparent, black);");return(a,t)=>(A(),D("div",{class:"plum",style:H(`mask-image: ${R(P)};--webkit-mask-image: ${R(P)};`)},[G("canvas",{ref_key:"el",ref:k,width:"400",height:"400"},null,512)],4))}});const U=J(K,[["__scopeId","data-v-afa913c5"],["__file","Plum.vue"]]);export{U as default};
