---
title: äºŒå‰æœç´¢æ ‘
author: å‘é˜³
pubDate: 2021-09-07
tag: 'JavaScript'
description: äºŒå‰æœç´¢æ ‘
---


äºŒå‰æœç´¢æ ‘æ˜¯äºŒå‰æ ‘ä¸­æœ€å¸¸ç”¨çš„ä¸€ç§ç±»å‹ä¹‹ä¸€ï¼Œä¹Ÿè¢«å«åšäºŒå‰æŸ¥æ‰¾æ ‘ï¼›çœ‹åˆ°å®ƒçš„åå­—ç›¸ä¿¡ä½ ä¹Ÿæƒ³åˆ°äº†ï¼Œå®ƒè¯ç”Ÿçš„åŸå› å°±æ˜¯ä¸ºäº†å®ç°å¿«é€ŸæŸ¥æ‰¾ï¼Œä¸è¿‡å®ƒä¸ä»…æ”¯æŒå¿«é€ŸæŸ¥æ‰¾ï¼Œä¹Ÿæ”¯æŒå¿«é€Ÿçš„æ’å…¥æˆ–è€…åˆ é™¤ã€‚

ä¸‹é¢å°±æ¥ä¸€èµ·äº†è§£ä¸€ä¸‹å§â€¦â€¦

![](https://files.mdnice.com/user/17954/17749d27-ee63-44d0-af3a-4fbb6ea3c6db.png)

## äº†è§£äº†è§£å®šä¹‰å…ˆ

äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰æ˜¯äºŒå‰æ ‘çš„ä¸€ç§ï¼Œä½†æ˜¯åªå…è®¸ä½ åœ¨å·¦ä¾§èŠ‚ç‚¹å­˜å‚¨æ¯”çˆ¶èŠ‚ç‚¹å°çš„å€¼ï¼Œåœ¨å³ä¾§èŠ‚ç‚¹å­˜å‚¨æ¯”çˆ¶èŠ‚ç‚¹å¤§çš„å€¼ã€‚

ä¸Šè¾¹æ˜¯ä¹¦ä¸Šè¯´çš„ï¼Œçœ‹ä¸æ˜ç™½æ²¡å…³ç³»ï¼Œå’±æ¥è§£é‡Šä¸€ä¸‹ã€‚

å…¶å®å°±æ˜¯ä¸€ä¸‹ä¸‰ç‚¹

1. äºŒå‰æœç´¢æ ‘æ˜¯äºŒå‰æ ‘çš„ä¸€ç§
2. å·¦å­æ ‘èŠ‚ç‚¹çš„å€¼å°äºçˆ¶èŠ‚ç‚¹çš„å€¼
3. å³å­æ ‘èŠ‚ç‚¹çš„å€¼å¤§äºçˆ¶èŠ‚ç‚¹çš„å€¼

å®šä¹‰ä¹Ÿäº†è§£äº†ï¼Œå¼€å§‹ä¸‹ä¸€æ­¥â€¦â€¦

![](https://files.mdnice.com/user/17954/af75dc1a-6997-43df-a2e8-a56d7f97f7e2.png)

## ä»ç®€å•çš„å¼€å§‹

æ“ä½œäºŒå‰æœç´¢æ ‘çš„å‰æï¼Œä½ å¾—æœ‰ä¸€ä¸ªäºŒå‰æœç´¢æ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå…ˆè®²äºŒå‰æœç´¢æ ‘çš„ `æ’å…¥` æ“ä½œã€‚

ä¸ç®¡æ˜¯äºŒå‰æ ‘çš„æ ¹è¿˜æ˜¯å¶å­ï¼Œéƒ½æ˜¯ä¸€ä¸ªä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥åœ¨åœ¨åˆ›å»ºä¸€ä¸ªäºŒå‰æœç´¢æ ‘ä¹‹å‰è¿˜å¾—å…ˆåˆ›å»ºèŠ‚ç‚¹ï¼›èŠ‚ç‚¹éƒ½ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼ŒèŠ‚ç‚¹çš„å€¼ã€èŠ‚ç‚¹çš„å·¦å­æ ‘å’ŒèŠ‚ç‚¹çš„å³å­æ ‘ã€‚

```javascript
class Node {
  constructor(key) {
    // èŠ‚ç‚¹çš„å€¼
    this.key = key
    // å·¦èŠ‚ç‚¹
    this.left = null
    // å³èŠ‚ç‚¹
    this.right = null
  }
}
```

ä¸‡äº‹ä¿±å¤‡ï¼Œæ¥ä¸‹æ¥å¼€å§‹å®ç°äºŒå‰æ ‘çš„æ’å…¥æ“ä½œï¼Œæ¯•ç«Ÿæ‰€æœ‰çš„æ“ä½œéƒ½è¦ä»æ–°å¢å¼€å§‹ã€‚

### `insert`

å®ç°æ’å…¥çš„æ—¶å€™è¦è€ƒè™‘çš„ä¸€ä¸ªç‚¹æ˜¯å½“å‰æ’å…¥çš„èŠ‚ç‚¹æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æ‰€è¯´çš„æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£å°±ç›´æ¥åˆ›å»ºä¸€ä¸ª Node ç±»çš„å®ä¾‹ï¼Œå¹¶æŠŠå®ƒèµ‹å€¼ç»™ root å±æ€§å³å¯ï¼›å¦‚æœä¸æ˜¯ï¼Œåˆ™éœ€è¦å¯¹èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åæ‰¾åˆ°å®ƒè¯¥åœ¨çš„ä½ç½®ã€‚å…ˆçœ‹çœ‹ä»£ç å®ç°ï¼Œç„¶åå†è§£é‡Šï¼Œå˜¿å˜¿

```javascript
class BinarySearchTree {
  constructor() {
    this.root = null
  }
  insert(key) {
    // å‘æ ‘ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„é”®
    if (this.root === null) {
      // å½“å‰æ ‘ä¸Šå•¥ä¹Ÿæ²¡æœ‰
      this.root = new Node(key)
    } else {
      // å·²ç»æœ‰äº†æ ¹èŠ‚ç‚¹
      this.#insertNode(this.root, key)
    }
  }
}
```

é¦–å…ˆåˆ›å»ºä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„ç±» `BinarySearchTree`, åªæœ‰ä¸€ä¸ªå±æ€§ï¼Œä¹Ÿå°±æ˜¯ BST çš„è·Ÿ rootï¼ˆåè¾¹çš„äºŒå‰æœç´¢æ ‘éƒ½ç”¨ BST ä»£æ›¿ï¼Œæ‰“å­—ç´¯äººå•Šï¼ï¼‰ã€‚

åˆ›å»ºä¸€ä¸ª`insert`æ–¹æ³•ï¼Œé€šè¿‡è¯¥æ–¹æ³•å®ç° BST çš„æ’å…¥æ“ä½œï¼Œ`#insertNode`æ–¹æ³•ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹æ’å…¥æ“ä½œçš„è¾…åŠ©æ–¹æ³•ï¼Œæ¥çœ‹ä¸€ä¸‹ä»–çš„å®ç°

```javascript
#insertNode(node, key) {
  // å¦‚æœè¦æ’å…¥çš„èŠ‚ç‚¹å€¼å°äºå½“å‰èŠ‚ç‚¹ï¼Œåˆ™ä½œä¸ºå·¦å­æ ‘
  if (node.key > key) {
    if (node.left === null) {
      node.left = new Node(key)
    } else {
      this.#insertNode(node.left, key)
    }
  } else {
    // å¦åˆ™ä½œä¸ºå³å­æ ‘
    if (node.right === null) {
      node.right = new Node(key)
    } else {
      this.#insertNode(node.right, key)
    }
  }
}
```

é¦–å…ˆåˆ¤æ–­ä¸€ä¸‹è¦æ’å…¥èŠ‚ç‚¹çš„å€¼çš„å¤§å°ï¼Œå¦‚æœå®ƒæ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œé‚£å®ƒå°±åº”è¯¥è¢«æ’å†å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸Šï¼Œæ¥ä¸‹æ¥åˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘æ˜¯æœ‰å€¼çš„ï¼Œé‚£å°±éœ€è¦å»åšæ›´æ·±å±‚æ¬¡çš„åˆ¤æ–­ï¼Œç”¨å½“å‰è¦æ’å…¥çš„èŠ‚ç‚¹å†å»å’Œå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œé‡å¤ä¹‹å‰çš„æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œç”¨é€’å½’æ¥å†™ã€‚

ä¸¾ä¸ªæ —å­ ğŸŒ° å§ï¼Œæ¯”å¦‚ä½ æŒ‰ `8, 3, 2, 6, 9, 7` çš„é¡ºåºé€šè¿‡ `insert` æŒ¨ä¸ªæ’å…¥åˆ° BST ä¸­ï¼Œé‚£åˆ›å»ºé‚£æœ€åçš„ BST åº”è¯¥æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ

![](https://files.mdnice.com/user/17954/f90fc36d-f45a-40b7-ba0e-658eb59c200e.png)

è¿™å°±æ˜¯åˆ›å»ºå‡ºæ¥çš„çš„ BST(ç”»çš„æœ‰ç‚¹ä¸‘ï¼Œå‡‘åˆç€çœ‹å“ˆâ€¦â€¦)

å¥½äº†ï¼Œæ¥ä¸‹æ¥æ¥è®²ä¸€ä¸‹è¿™æ£µæ ‘æ˜¯æ€ä¹ˆç”Ÿæˆçš„

1. æ’å…¥ 8 çš„æ—¶å€™ï¼Œæ ¹èŠ‚ç‚¹ root çš„å€¼æ˜¯ nullï¼Œæ‰€ä»¥ç›´æ¥åˆ›å»ºäº†ä¸€ä¸ªå€¼ä¸º 8 çš„èŠ‚ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹

![](https://files.mdnice.com/user/17954/4af1b52c-c8e5-40d8-aee8-fa350cf864e6.png)

2. æ’å…¥ 3 çš„æ—¶å€™ï¼Œå½“å‰æ ¹èŠ‚ç‚¹å·²ç»æœ‰å€¼ï¼Œæ¯”è¾ƒ 2 ä¸æ ¹èŠ‚ç‚¹ root çš„å€¼ï¼Œ2 æ˜æ˜¾æ¯” 8 å°ï¼Œæ‰€ä»¥åˆ›å»ºä¸€ä¸ªå€¼ä¸º 3 çš„èŠ‚ç‚¹ä½œä¸º 8 çš„å·¦å­æ ‘

![](https://files.mdnice.com/user/17954/bd985d56-03fd-4ccf-a989-e6146bd3691d.png)

3. æ’å…¥èŠ‚ç‚¹ 2 çš„æ—¶å€™ï¼Œå…ˆä¸èŠ‚ç‚¹ 8 çš„å€¼æ¯”è¾ƒï¼Œæ¯” 8 å°ï¼Œæ‰€ä»¥èŠ‚ç‚¹ 2 åº”è¯¥æ˜¯å·¦å­æ ‘ä¸Šè¾¹çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯ç°åœ¨èŠ‚ç‚¹ 8 çš„å·¦å­æ ‘å·²ç»æœ‰ä¸€ä¸ªèŠ‚ç‚¹ 3 äº†ï¼Œæ‰€ä»¥èŠ‚ç‚¹ 2 è¿˜è¦ä¸èŠ‚ç‚¹ 3 çš„å€¼æ¯”è¾ƒï¼Œ2 æ¯”ä¸‰å°ï¼Œå¹¶ä¸”èŠ‚ç‚¹ä¸‰çš„å·¦å­æ ‘å¹¶æ²¡æœ‰å€¼ï¼ŒèŠ‚ç‚¹ 2 åº”è¯¥æ’å…¥åˆ°èŠ‚ç‚¹ä¸‰çš„å·¦å­æ ‘ä¸Š

![](https://files.mdnice.com/user/17954/b134dea7-69e8-4086-9102-4b4a8a4786d9.png)

4. åŒæ ·çš„ï¼Œæ’å…¥èŠ‚ç‚¹ 6 çš„æ—¶å€™ï¼Œå…ˆè¦ä¸èŠ‚ç‚¹ 8 çš„å€¼æ¯”è¾ƒï¼Œç„¶åä¸èŠ‚ç‚¹ 3 çš„å€¼æ¯”è¾ƒï¼Œ6 æ¯” 3 å¤§ï¼Œæ‰€ä»¥åº”è¯¥æ’å…¥å†èŠ‚ç‚¹ 3 çš„å³å­æ ‘ä¸Š

![](https://files.mdnice.com/user/17954/60f072c8-29c4-4a13-ad0b-6dd8b7ba2aa9.png)

5. æ’å…¥èŠ‚ç‚¹ 9 çš„æ—¶å€™ï¼Œä¸èŠ‚ç‚¹ 8 çš„å€¼æ¯”è¾ƒï¼Œ9 æ¯” 8 å¤§ï¼Œå¹¶ä¸”èŠ‚ç‚¹ 8 çš„å³å­æ ‘ä¸ºç©ºï¼Œæ‰€ä»¥èŠ‚ç‚¹ 9 å°±åšä¸ºèŠ‚ç‚¹ 8 çš„å³å­æ ‘

![](https://files.mdnice.com/user/17954/b47fd6ed-585f-49f1-9d81-579c2a204743.png)

å‰©ä¸‹çš„èŠ‚ç‚¹ä¸æƒ³ç”»äº†ï¼Œå› ä¸ºéƒ½æ˜¯åœ¨é‡å¤ ğŸ¶

æ’å…¥çš„æ“ä½œè®²åˆ°è¿™é‡Œå·²ç» over äº†

æ¥ä¸‹æ¥å¼€å§‹è®² BST çš„éå†ï¼Œå…ˆä»ä¸­åºéå†å¼€å§‹

### ä¸­åºéå†

å…ˆè¯´å®šä¹‰ï¼š
ä¸­åºéå†æ˜¯ä¸€ç§ä»¥ä¸Šè¡Œæ–¹å¼é¡ºåºè®¿é—® BST æ‰€æœ‰èŠ‚ç‚¹çš„éå†æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ä»¥ä»æœ€å°åˆ°æœ€å¤§çš„é¡ºåºè®¿é—®æ‰€æœ‰çš„èŠ‚ç‚¹ã€‚

å…¶å®æ ¹æ® BST å’Œä¸­åºéå†çš„å®šä¹‰ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½å¤Ÿæƒ³åˆ°ï¼Œä¸­åºéå†çš„æ—¶å€™åº”è¯¥æ˜¯å…ˆéå† BST çš„å·¦å­æ ‘ï¼Œç„¶åæ˜¯æ ¹èŠ‚ç‚¹ï¼Œæœ€åæ˜¯å³å­æ ‘ã€‚å› ä¸º BST çš„æ ¹èŠ‚ç‚¹çš„å€¼æ€»æ˜¯å¤§äºå·¦å­æ ‘èŠ‚ç‚¹çš„å€¼è€Œå°äºå³å­æ ‘èŠ‚ç‚¹çš„å€¼ã€‚

æ¥çœ‹çœ‹å…·ä½“ä»£ç å®ç°

```javascript
inOrderTraverse(callback) {
  // é€šè¿‡ä¸­åºéå†æ‰€æœ‰èŠ‚ç‚¹
  this.#inOrderTraverseNode(this.root, callback)
}

#inOrderTraverseNode(node, callback) {
  if (node !== null) {
    this.#inOrderTraverseNode(node.left, callback)
    callback(node.key)
    this.#inOrderTraverseNode(node.right, callback)
  }
}
```

`inOrderTraverse`ä¸­åºéå†çš„æ—¶å€™æ¥æ”¶ä¸€ä¸ª `callback` å›è°ƒå‡½æ•°ï¼Œç”¨äºå¯¹éå†åˆ°çš„èŠ‚ç‚¹è¿›è¡Œä¸€äº›å¤„ç†ã€‚

`#inOrderTraverseNode`å‡½æ•°æ˜¯ä¸€ä¸ªéå†çš„è¾…åŠ©æ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªå½“å‰éå†åˆ°çš„èŠ‚ç‚¹ `node`ï¼Œä¸€ä¸ªæ˜¯ç”¨äºå¤„ç†éå†åˆ°çš„èŠ‚ç‚¹çš„å›è°ƒå‡½æ•° `callback` ã€‚æœ‰äº›åŒå­¦å¯èƒ½å¯¹è¿™é‡Œçš„é€’å½’è°ƒç”¨ä¸å¤ªç†è§£ï¼Œæˆ‘è¿™é‡Œæ¥é€šè¿‡è§‚å¯Ÿè°ƒç”¨æ ˆçš„æ–¹å¼ç¨å¾®è§£é‡Šä¸€ä¸‹ã€‚

è¿™æ˜¯`#inOrderTraverseNode`å‡½æ•°çš„ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œ`#inOrderTraverseNode` è¢«å‹å…¥è°ƒç”¨æ ˆä¸­ï¼Œå½“å‰èŠ‚ç‚¹æ˜¯ `root` èŠ‚ç‚¹ï¼Œæ¡ä»¶åˆ¤æ–­æˆç«‹ï¼Œæ‰§è¡Œæ¡ä»¶è¯­å¥å†…çš„ç¨‹åºï¼Œç»§ç»­è°ƒç”¨ `#inOrderTraverseNode`

![](https://files.mdnice.com/user/17954/a949a867-0940-4ddf-b4bf-47df44b6c78a.png)

æ­¤æ—¶ `#inOrderTraverseNode` ä¸­ä¼ å…¥çš„ node èŠ‚ç‚¹æ˜¯ root èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œæ‰§è¡Œæ¡ä»¶è¯­å¥ï¼Œå‘ç°å½“å‰èŠ‚ç‚¹çš„å€¼ä¸ä¸ºç©ºï¼Œæ‰§è¡Œæ¡ä»¶è¯­å¥å†…çš„ä»£ç ï¼Œç»§ç»­è°ƒç”¨ `#inOrderTraverseNode`

![](https://files.mdnice.com/user/17954/ee45ae8f-ce68-4499-933d-8c0cf15e8f0d.png)

æ­¤æ—¶ `#inOrderTraverseNode` ä¸­ä¼ å…¥çš„ node èŠ‚ç‚¹æ˜¯å€¼ä¸º 3 çš„èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œæ‰§è¡Œæ¡ä»¶è¯­å¥ï¼Œå‘ç°å½“å‰èŠ‚ç‚¹çš„å€¼ä¸ä¸ºç©ºï¼Œæ‰§è¡Œæ¡ä»¶è¯­å¥å†…çš„ä»£ç ï¼Œç»§ç»­è°ƒç”¨ `#inOrderTraverseNode`

![](https://files.mdnice.com/user/17954/db51b64a-fe67-4a4f-9780-3de690424cf2.png)

ç»§ç»­æ‰§è¡Œ `#inOrderTraverseNode` ï¼Œä¸€æ¬¡ä¼ å…¥çš„æ˜¯èŠ‚ç‚¹å€¼ä¸º 2 çš„èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œä½†æ˜¯æ­¤æ—¶è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘çš„å€¼ä¸ºç©ºï¼Œæ‰€ä»¥æ¡ä»¶åˆ¤æ–­ä¸æˆç«‹ã€‚

æ­¤æ—¶ï¼Œè°ƒç”¨æ ˆæ ˆé¡¶çš„å‡½æ•°å†…éƒ¨å¯ä»¥å†™æˆè¿™æ ·çš„

```javascript
// node.key = 2
callback(node.key)
this.#inOrderTraverseNode(node.right, callback)
```

æŠŠèŠ‚ç‚¹çš„å€¼ä¼ å…¥å›è°ƒå‡½æ•°ä¸­ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­åšä½ æƒ³è¦åšçš„æ“ä½œï¼Œæ¥ç€åˆæ˜¯è°ƒç”¨ `#inOrderTraverseNode`, æ­¤æ—¶ node èŠ‚ç‚¹çš„å³èŠ‚ç‚¹æ˜¯ nullï¼Œæ¡ä»¶è¯­å¥ä¸æˆç«‹ï¼Œæ‰€ä»¥è·³è¿‡æ¡ä»¶è¯­å¥å†…çš„å†…å®¹ã€‚åˆ°è¿™é‡Œå¯¹èŠ‚ç‚¹å€¼ä¸º 2 çš„èŠ‚ç‚¹æ“ä½œå®Œæˆï¼Œä»è°ƒç”¨æ ˆä¸­å¼¹å‡ºæ­¤æ¬¡è°ƒç”¨ã€‚

![](https://files.mdnice.com/user/17954/59a5cb77-7b8a-4570-b682-7dca2b90497d.png)

å¯¹äºå…¶ä»–èŠ‚ç‚¹çš„éå†å…¶å®éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œç”±äºæœ¬æ–‡çš„é‡ç‚¹ä¸æ˜¯é€’å½’ï¼Œåœ¨è¿™é‡Œåªæ˜¯å¤§è‡´è®²ä¸€ä¸‹ï¼Œåè¾¹æœ‰æ—¶é—´å†å•ç‹¬å‡ºä¸€ç¯‡é’ˆå¯¹é€’å½’çš„ã€‚

å…¶å®é€’å½’å°±æ˜¯ä¸€ä¸ªå¥—å¨ƒçš„è¿‡ç¨‹ï¼Œå…³äºé€’å½’ï¼Œè¿˜æœ‰ä¸€å¥åè¨€æ¥ç€

> è¦ç†è§£é€’å½’ï¼Œé¦–å…ˆè¦ç†è§£é€’å½’ã€‚

è¿™å¥è¯å¯è°“æ˜¯ç›´å‡»é€’å½’çš„æœ¬è´¨ã€‚

å¥½äº†ï¼Œä»é€’å½’çš„æ‡µé€¼ä¸­è½¬å›æ¥ï¼Œæ¥ç€è®² BST çš„éå†ã€‚

ä¸­åºéå†ä¸Šè¾¹å·²ç»è®²çš„å·®ä¸å¤šäº†ï¼Œæ¥ç€æ¥è®²è®² BST çš„å…ˆåºéå†

### å…ˆåºéå†

è¿˜æ˜¯å…ˆçœ‹çœ‹å®˜æ–¹æ˜¯æ€ä¹ˆå®šä¹‰ä»–çš„

> å…ˆåºéå†æ˜¯ä»¥ä¼˜å…ˆä¸åä»£èŠ‚ç‚¹çš„é¡ºåºè®¿é—®æ¯ä¸ªèŠ‚ç‚¹çš„ã€‚

å®˜æ–¹çš„è¯å°±æ˜¯å¤Ÿå®˜æ–¹ï¼Œçœ‹éƒ½çœ‹ä¸æ‡‚ã€‚å’±ç¿»è¯‘ä¸€ä¸‹ï¼Œå…¶å®å°±æ˜¯åœ¨éå†çš„æ—¶å€™é¦–å…ˆå»è®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åæ˜¯å·¦å­æ ‘ï¼Œæœ€åæ—¶å³å­æ ‘ã€‚

å¼„æ˜ç™½äº†å®ƒçš„å®šä¹‰ï¼Œé‚£å°±å¼€å§‹å®ç°å‘—

```javascript
preOrderTraverse(callback) {
  // é€šè¿‡å…ˆåºéå†æ‰€æœ‰èŠ‚ç‚¹
  this.#preOrderTraverseNode(this.root, callback)
}

#preOrderTraverseNode(node, callback) {
  if (node !== null) {
    callback(node.key)
    this.#preOrderTraverseNode(node.left, callback)
    this.#preOrderTraverseNode(node.right, callback)
  }
}
```

è·Ÿä¸­åºéå†ç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨æ¯æ¬¡è°ƒç”¨ `#preOrderTraverseNode` çš„æ—¶å€™é¦–å…ˆæ‰§è¡Œçš„æ˜¯ `callback` è¿™ä¸ªå›è°ƒå‡½æ•°ã€‚

æ€è·¯è·Ÿä¸­åºéå†éƒ½æ˜¯ç±»ä¼¼çš„ã€‚

æ¥ä¸‹æ¥æ˜¯ååºéå†

### ååºéå†

ä¸Šå®šä¹‰

> åç»­éå†æ—¶å…ˆè®¿é—®æ ¹èŠ‚ç‚¹çš„åä»£èŠ‚ç‚¹ï¼Œåœ¨è®¿é—®èŠ‚ç‚¹æœ¬èº«ã€‚

å…¶å®å°±æ˜¯å…ˆè®¿é—®å·¦å­æ ‘ï¼Œå†è®¿é—®å³å­æ ‘ï¼Œæœ€åè®¿é—®æ ¹èŠ‚ç‚¹

å¥½äº†ï¼Œä¸Šä»£ç å§ï¼Œçœ‹çœ‹å®ç°

```javascript
postOrderTraverse(callback) {
  // é€šè¿‡ååºéå†æ‰€æœ‰èŠ‚ç‚¹
  this.#postOrderTraverseNode(this.root, callback)
}

#postOrderTraverseNode(node, callback) {
  if (node !== null) {
    this.#postOrderTraverseNode(node.left, callback)
    this.#postOrderTraverseNode(node.right, callback)
    callback(node.key)
  }
}
```

æ€è·¯è·Ÿä¸­åºéå†å’Œå…ˆåºéå†ä¹Ÿæ˜¯ä¸€æ ·ä¸€æ ·æ»´

BST çš„ä¸‰ç§éå†è®²å®Œäº†ï¼Œä¸çŸ¥é“ä½ æœ‰æ²¡æœ‰ä»é€’å½’çš„åœˆä¸­è·³å‡ºæ¥ã€‚

æ¥ä¸‹æ¥æ¥è¯´ä¸¤ä¸ªç®€å•çš„ï¼Œè·å– BST ä¸­æœ‰æœ€å°å€¼å’Œæœ€å¤§å€¼çš„èŠ‚ç‚¹ã€‚

### æœç´¢æœ€å°å€¼

å’±å…ˆå›é¡¾ä¸€ä¸‹ BST çš„å®šä¹‰ï¼Œå†æ¥çœ‹ä¸‹è¾¹çš„ä¸€å¼ å›¾

![](https://files.mdnice.com/user/17954/a7302ac9-599b-4031-8287-2c64fbbc2b86.png)

æœ‰æ²¡æœ‰å‘ç°ä»€ä¹ˆï¼Ÿ

æ²¡é”™ï¼ŒBST æœ€å·¦ç«¯çš„èŠ‚ç‚¹å°±æ˜¯æœ€å°çš„å€¼ï¼Œæœ€å³ç«¯çš„èŠ‚ç‚¹å°±æ˜¯æœ€å¤§å€¼ã€‚

ä½ è¯´è¿™ä¹ˆå°ä¸€æ£µæ ‘ï¼Œå¾—å‡ºæ¥çš„ç»“è®ºä¼šä¸ä¼šä¸å‡†ç¡®ï¼Ÿé‚£æˆ‘è¿™é‡Œå»ºè®®ä½ å†å›å»çœ‹çœ‹ BST çš„å®šä¹‰ï¼

å¥½äº†ï¼Œçœ‹å›¾è™½ç„¶ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥ï¼Œé‚£å…·ä½“æ€ä¹ˆæŸ¥æ‰¾ï¼Œè¿˜æ˜¯è¦çœ‹çœ‹å…·ä½“çš„ä»£ç é€»è¾‘

```javascript
min() {
  if (this.root === null) {
    return false
  }
  // è¿”å›æ ‘ä¸­æœ€å°çš„é”®å€¼
  return this.#minNode(this.root)
}

#minNode(node) {
  let current = node
  while (current !== null && current.left !== null) {
    current = current.left
  }
  return current
}
```

å…¶å®å°±æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé¡ºç€å·¦å­æ ‘çš„èŠ‚ç‚¹ä¸€ç›´éå†ï¼Œç›´åˆ°å½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘çš„å€¼ä¸ºç©ºï¼Œä¹Ÿå°±æ˜¯éå†åˆ°å¤´äº†ï¼Œè¿™å°±æ˜¯æœ€åä¸€ä¸ªå·¦èŠ‚ç‚¹äº†ï¼Œé‚£è¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯æ—¶æˆ‘ä»¬è¦æ‰¾çš„èŠ‚ç‚¹å€¼æœ€å°çš„èŠ‚ç‚¹ã€‚

### æœç´¢æœ€å¤§å€¼

çœ‹ä¸Šè¾¹çš„å›¾ï¼Œæœ€å¤§å€¼å°±æ˜¯æœ€å³è¾¹çš„å­èŠ‚ç‚¹ï¼Œæˆ‘ä¹Ÿç”­è§£é‡Šäº†ï¼Œç›´æ¥ä¸Šä»£ç å§

```javascript
max() {
  // è¿”å›æ ‘ä¸­æœ€å¤§çš„é”®å€¼
  if (this.root === null) {
    return false
  }
  return this.#maxNode(this.root)
}

#maxNode(node) {
  let current = node
  while (current !== null && current.right !== null) {
    current = current.right
  }
  return current
}
```

åˆ°è¿™é‡Œï¼ŒBST æœ€å¤§å€¼æœ€å°å€¼çš„æŸ¥æ‰¾å°±ç»“æŸäº†

æ¥ä¸‹æ¥æ˜¯æœç´¢ BST ä¸­æŸä¸€ä¸ªç‰¹å®šçš„å€¼

### æœç´¢ä¸€ä¸ªç‰¹å®šçš„å€¼

æœç´¢å…¶å®ç›¸å¯¹æ˜¯æ¯”è¾ƒè‚‰å®¹æ˜“ç†è§£çš„ï¼Œæœç´¢çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªå¯¹ BST èŠ‚ç‚¹éå†æ¯”è¾ƒçš„è¿‡ç¨‹ï¼Œæ‰¾åˆ°ä¸ç›®æ ‡èŠ‚ç‚¹ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚

æ‹¿å½“å‰èŠ‚ç‚¹ä¸ç›®æ ‡èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„å€¼æ¯”ç›®æ ‡èŠ‚ç‚¹å¤§ï¼Œåˆ™æ‹¿ç›®æ ‡èŠ‚ç‚¹ä¸å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦åˆ™æ‹¿ç›®æ ‡èŠ‚ç‚¹ä¸å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹æ¯”è¾ƒã€‚

æ¥çœ‹çœ‹ä»£ç å…·ä½“å¦‚ä½•å®ç°

```javascript
constructor() {
  this.root = null
  this.searchResult = null
}

search(key) {
  // åœ¨æ ‘ä¸­æŸ¥æ‰¾ä¸€ä¸ªé”®ï¼Œå¦‚æœèŠ‚ç‚¹å­˜åœ¨ï¼Œè¿”å›trueï¼›å¦åˆ™ï¼Œè¿”å›false
  return this.#searchNode(this.root, key)
}

#searchNode(node, key) {
  if (node === null) {
    return false
  }

  if (node.key === key) {
    this.searchResult = node
  }
  if (node !== null && node.key > key) {
    return this.#searchNode(node.left, key)
  } else if (node !== null && node.key < key) {
    return this.#searchNode(node.right, key)
  }
  return this.searchResult
}
```

åœ¨ BST çš„ç±»ä¸­æ–°å¢ä¸€ä¸ª `searchResult` å±æ€§ï¼Œç”¨äºä¿å­˜æœç´¢åˆ°çš„ç»“æœã€‚

åœ¨æœç´¢çš„æ—¶å€™ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œé‚£å°±è¯´æ˜è¯¥ BST ä¸ºç©ºï¼Œæˆ–è€…è¯´å·²ç»éå†åˆ°å½“å‰ BST æŸä¸€å­æ ‘çš„é¡¶ç‚¹ï¼Œæ²¡æœ‰æŸ¥è¯¢åˆ°æƒ³è¦çš„èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å› falseã€‚

å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ç›®æ ‡èŠ‚ç‚¹çš„å€¼ç›¸ç­‰ï¼Œé‚£è¯´æ˜è¯¥èŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„èŠ‚ç‚¹ï¼ŒæŠŠè¯¥èŠ‚ç‚¹èµ‹å€¼ç»™ `searchResult` ï¼Œä½œä¸ºæŸ¥è¯¢åˆ°çš„ç»“æœè¿”å›ã€‚

åœ¨æ¡ä»¶è¯­å¥ä¸­ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™ä¸æ‰§è¡Œæ¡ä»¶è¯­å¥å†…çš„å†…å®¹ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œå¹¶ä¸”å½“å‰èŠ‚ç‚¹çš„å€¼å¤§äºç›®æ ‡èŠ‚ç‚¹çš„å€¼ï¼Œåˆ™å»å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹ä¸Šç»§ç»­æŸ¥æ‰¾ã€‚

å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å½“å‰èŠ‚ç‚¹çš„å€¼å°äºç›®æ ‡èŠ‚ç‚¹çš„å€¼ï¼Œåˆ™å»å½“å‰èŠ‚ç‚¹çš„å³èŠ‚ç‚¹ä¸Šç»§ç»­æŸ¥æ‰¾ã€‚

æœ€åå†æ¥çœ‹çœ‹ BST çš„åˆ é™¤æ“ä½œ

### ç§»é™¤ä¸€ä¸ªèŠ‚ç‚¹

å…ˆæ¥è¯´æ‰€æ€è·¯ï¼Œåœ¨åˆ é™¤çš„æ—¶å€™è¦åˆ†è¿™ä¹ˆä¸‰ç§æƒ…å†µï¼š

1. æ²¡æœ‰æ‰¾åˆ°è¦åˆ é™¤çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬ç›´æ¥è¿”å› null

2. æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œå¹¶ä¸”ç›®æ ‡èŠ‚ç‚¹æ²¡æœ‰å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œé‚£ç›´æ¥å°†è¯¥èŠ‚ç‚¹èµ‹å€¼ä¸º nullï¼Œè¡¨ç¤ºåˆ é™¤

3. æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œä½†æ˜¯ç›®æ ‡èŠ‚ç‚¹æœ‰å·¦å­æ ‘æˆ–è€…å³å­æ ‘ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦è·³è¿‡è¯¥èŠ‚ç‚¹ï¼Œå°†è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘è¯¥èŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚å½“ç„¶ï¼Œè¿™ä¸ªå­èŠ‚ç‚¹å…¶å®æ˜¯æœ‰è¦æ±‚çš„ã€‚

å¦‚æœç›®æ ‡èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œé‚£å¥½åŠï¼Œç›´æ¥å°†ç›®æ ‡èŠ‚ç‚¹èµ‹å€¼ä¸º null å°±å¯ä»¥äº†

å¦‚æœè¯´ç›®æ ‡èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå·¦èŠ‚ç‚¹æˆ–è€…å³èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç›´æ¥å°†è¯¥èŠ‚ç‚¹çš„ç”¨å½“å‰èŠ‚ç‚¹çš„å·¦èŠ‚ç‚¹æˆ–è€…æœ‰èŠ‚ç‚¹æ¥ç»§æ‰¿å½“å‰èŠ‚ç‚¹çš„ä½ç½®ã€‚

æœ€éº»çƒ¦çš„æ˜¯ï¼Œç›®æ ‡èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ‰å·¦ä¾§èŠ‚ç‚¹å’Œå³ä¾§èŠ‚ç‚¹ã€‚æ‰¾åˆ°è¦åˆ é™¤çš„ç›®æ ‡èŠ‚ç‚¹åï¼Œéœ€è¦è·³è¿‡ç›®æ ‡èŠ‚ç‚¹ï¼Œå»æŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹å³å­æ ‘ä¸Šè¾¹æœ€å°çš„å€¼ï¼Œæ¥ç»§æ‰¿ç›®æ ‡èŠ‚ç‚¹çš„ä½ç½®ã€‚æ­¤æ—¶ BST ä¸­ä¼šæœ‰ä¸¤ä¸ªèŠ‚ç‚¹å€¼ç›¸åŒçš„èŠ‚ç‚¹ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç”¨æ¥ç»§æ‰¿çš„èŠ‚ç‚¹åŸæœ¬ä½ç½®ä¸Šçš„èŠ‚ç‚¹åˆ é™¤æ‰ã€‚

è§£é‡Šäº†è¿™ä¹ˆå¤šï¼Œè¿˜æ˜¯è§‰å¾—ä¸å¦‚çœ‹ä»£ç æ¥çš„ç›´è§‚ï¼Œé‚£è¿˜æ˜¯ç›´æ¥ä¸Šä»£ç å­

```javascript
remove(key) {
  // ä»æ ‘ä¸­ç§»é™¤æŸä¸ªé”®
  return this.#removeNode(this.root, key)
}

#removeNode(node, key) {
  if (node === null) {
    return null
  }
  if (node.key > key) {
    // è¦åˆ é™¤çš„èŠ‚ç‚¹åœ¨å·¦å­æ ‘
    node.left = this.#removeNode(node.left, key)
    return node
  } else if (node.key < key) {
    // è¦åˆ é™¤çš„èŠ‚ç‚¹åœ¨å³å­æ ‘
    node.right = this.#removeNode(node.right, key)
    return node
  } else {
    // å½“å‰èŠ‚ç‚¹å°±æ˜¯è¦åˆ é™¤çš„èŠ‚ç‚¹
    if (!node.left && !node.right) {
      node = null
      return node
    }
    if (!node.left) {
      node = node.right
      return node
    } else if (!node.right) {
      node = node.left
      return node
    }
    const aux = this.#minNode(node.right)
    // å°†ç›®æ ‡èŠ‚ç‚¹å³å­æ ‘èŠ‚ç‚¹å€¼æœ€å°çš„èŠ‚ç‚¹çš„å€¼èµ‹å€¼ç»™å½“å‰ç›®æ ‡èŠ‚ç‚¹ï¼Œç”¨æ¥ç»§æ‰¿å½“å‰ç›®æ ‡èŠ‚ç‚¹çš„ä½ç½®
    node.key = aux.key
    // åˆ é™¤ç›®æ ‡èŠ‚ç‚¹å³å­æ ‘ä¸Šæœ€å°çš„èŠ‚ç‚¹
    node.right = this.#removeNode(node.right, aux.key)
    return node
  }
}
```

è®²äº†è¿™ä¹ˆå¤šä¸çŸ¥é“ä½ å­¦åºŸäº†å—ï¼Ÿ

![](https://files.mdnice.com/user/17954/c2a7db2f-4093-4db3-b24b-01b1c9c1a948.png)

æœ€åå†å” å¨ä¸¤å¥ï¼ŒBST çš„ç”¨æ¥èƒ½ç”¨æ¥å¹²ä»€ä¹ˆã€‚åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼ŒBST æ˜¯ç”¨æ¥è¿›è¡Œå¿«é€ŸæŸ¥æ‰¾çš„ï¼Œåœ¨è¿›è¡Œæœç´¢çš„æ—¶å€™å…¶å®æ˜¯ä¸€ä¸ªäºŒåˆ†æ³•æŸ¥æ‰¾çš„è¿‡ç¨‹ã€‚

ä½†æ˜¯ä¸ºä»€ä¹ˆåˆè¯´æ˜¯æ­£å¸¸æƒ…å†µå‘¢ï¼Œå› ä¸ºæœ‰ä¸æ­£å¸¸çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸€æ£µæ ‘ï¼Œåªæœ‰ä¸€æ ¹æ ‘æçš„é‚£ç§ï¼Œè¿™æ ·çš„æ ‘å…¶å®æ›´åƒæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œå†ç”¨äºŒåˆ†æ³•å»æŸ¥æ‰¾ï¼Œæ„ä¹‰å°±ä¸å¤§äº†ã€‚

ä¸‹ä¸€ç¯‡è®²å¦‚ä½•è§£å†³è¿™ä¸ªç¼ºé™·ï¼Œå¦ä¸€ç§æ ‘â€”â€”è‡ªå¹³è¡¡æ ‘(AVL æ ‘)

å‚è€ƒæ–‡çŒ®ï¼šã€Šå­¦ä¹  JavaScript æ•°æ®ç»“æ„ä¸ç®—æ³•ã€‹
